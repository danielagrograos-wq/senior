{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":28,"index":161}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.registerForPushNotifications = registerForPushNotifications;\n  exports.unregisterPushNotifications = unregisterPushNotifications;\n  exports.addNotificationReceivedListener = addNotificationReceivedListener;\n  exports.addNotificationResponseReceivedListener = addNotificationResponseReceivedListener;\n  exports.scheduleLocalNotification = scheduleLocalNotification;\n  exports.getScheduledNotifications = getScheduledNotifications;\n  exports.cancelAllNotifications = cancelAllNotifications;\n  exports.setBadgeCount = setBadgeCount;\n  var _expoNotifications = require(_dependencyMap[0], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[1], \"expo-device\");\n  var Device = _interopNamespace(_expoDevice);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _api = require(_dependencyMap[3], \"./api\");\n  // Configure notification handler\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true,\n      shouldShowBanner: true,\n      shouldShowList: true\n    })\n  });\n  async function registerForPushNotifications() {\n    let token = null;\n    if (Platform.default.OS === 'android') {\n      await Notifications.setNotificationChannelAsync('default', {\n        name: 'SeniorCare+',\n        importance: Notifications.AndroidImportance.MAX,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: '#14B8A6'\n      });\n    }\n    if (!Device.isDevice) {\n      console.log('Push notifications require a physical device');\n      return null;\n    }\n    const {\n      status: existingStatus\n    } = await Notifications.getPermissionsAsync();\n    let finalStatus = existingStatus;\n    if (existingStatus !== 'granted') {\n      const {\n        status\n      } = await Notifications.requestPermissionsAsync();\n      finalStatus = status;\n    }\n    if (finalStatus !== 'granted') {\n      console.log('Permission for notifications not granted');\n      return null;\n    }\n    try {\n      const response = await Notifications.getExpoPushTokenAsync({\n        projectId: 'seniorcare-plus' // Replace with your actual project ID\n      });\n      token = response.data;\n      console.log('Push token:', token);\n\n      // Register token with backend\n      await _api.api.post('/notifications/register-push', {\n        push_token: token,\n        device_type: Platform.default.OS\n      });\n    } catch (error) {\n      console.error('Error getting push token:', error);\n    }\n    return token;\n  }\n  async function unregisterPushNotifications(token) {\n    try {\n      await _api.api.delete(`/notifications/unregister-push?push_token=${token}`);\n    } catch (error) {\n      console.error('Error unregistering push token:', error);\n    }\n  }\n  function addNotificationReceivedListener(callback) {\n    return Notifications.addNotificationReceivedListener(callback);\n  }\n  function addNotificationResponseReceivedListener(callback) {\n    return Notifications.addNotificationResponseReceivedListener(callback);\n  }\n\n  // Schedule a local notification\n  async function scheduleLocalNotification(title, body, data, trigger) {\n    await Notifications.scheduleNotificationAsync({\n      content: {\n        title,\n        body,\n        data,\n        sound: true\n      },\n      trigger: trigger || null // null = immediate\n    });\n  }\n\n  // Get all scheduled notifications\n  async function getScheduledNotifications() {\n    return await Notifications.getAllScheduledNotificationsAsync();\n  }\n\n  // Cancel all scheduled notifications\n  async function cancelAllNotifications() {\n    await Notifications.cancelAllScheduledNotificationsAsync();\n  }\n\n  // Set badge count\n  async function setBadgeCount(count) {\n    await Notifications.setBadgeCountAsync(count);\n  }\n});","lineCount":138,"map":[[27,2,17,0,"exports"],[27,9,17,0],[27,10,17,0,"registerForPushNotifications"],[27,38,17,0],[27,41,17,0,"registerForPushNotifications"],[27,69,17,0],[28,2,66,0,"exports"],[28,9,66,0],[28,10,66,0,"unregisterPushNotifications"],[28,37,66,0],[28,40,66,0,"unregisterPushNotifications"],[28,67,66,0],[29,2,74,0,"exports"],[29,9,74,0],[29,10,74,0,"addNotificationReceivedListener"],[29,41,74,0],[29,44,74,0,"addNotificationReceivedListener"],[29,75,74,0],[30,2,80,0,"exports"],[30,9,80,0],[30,10,80,0,"addNotificationResponseReceivedListener"],[30,49,80,0],[30,52,80,0,"addNotificationResponseReceivedListener"],[30,91,80,0],[31,2,87,0,"exports"],[31,9,87,0],[31,10,87,0,"scheduleLocalNotification"],[31,35,87,0],[31,38,87,0,"scheduleLocalNotification"],[31,63,87,0],[32,2,105,0,"exports"],[32,9,105,0],[32,10,105,0,"getScheduledNotifications"],[32,35,105,0],[32,38,105,0,"getScheduledNotifications"],[32,63,105,0],[33,2,110,0,"exports"],[33,9,110,0],[33,10,110,0,"cancelAllNotifications"],[33,32,110,0],[33,35,110,0,"cancelAllNotifications"],[33,57,110,0],[34,2,115,0,"exports"],[34,9,115,0],[34,10,115,0,"setBadgeCount"],[34,23,115,0],[34,26,115,0,"setBadgeCount"],[34,39,115,0],[35,2,1,0],[35,6,1,0,"_expoNotifications"],[35,24,1,0],[35,27,1,0,"require"],[35,34,1,0],[35,35,1,0,"_dependencyMap"],[35,49,1,0],[36,2,1,0],[36,6,1,0,"Notifications"],[36,19,1,0],[36,22,1,0,"_interopNamespace"],[36,39,1,0],[36,40,1,0,"_expoNotifications"],[36,58,1,0],[37,2,2,0],[37,6,2,0,"_expoDevice"],[37,17,2,0],[37,20,2,0,"require"],[37,27,2,0],[37,28,2,0,"_dependencyMap"],[37,42,2,0],[38,2,2,0],[38,6,2,0,"Device"],[38,12,2,0],[38,15,2,0,"_interopNamespace"],[38,32,2,0],[38,33,2,0,"_expoDevice"],[38,44,2,0],[39,2,2,38],[39,6,2,38,"_reactNativeWebDistExportsPlatform"],[39,40,2,38],[39,43,2,38,"require"],[39,50,2,38],[39,51,2,38,"_dependencyMap"],[39,65,2,38],[40,2,2,38],[40,6,2,38,"Platform"],[40,14,2,38],[40,17,2,38,"_interopDefault"],[40,32,2,38],[40,33,2,38,"_reactNativeWebDistExportsPlatform"],[40,67,2,38],[41,2,4,0],[41,6,4,0,"_api"],[41,10,4,0],[41,13,4,0,"require"],[41,20,4,0],[41,21,4,0,"_dependencyMap"],[41,35,4,0],[42,2,6,0],[43,2,7,0,"Notifications"],[43,15,7,13],[43,16,7,14,"setNotificationHandler"],[43,38,7,36],[43,39,7,37],[44,4,8,2,"handleNotification"],[44,22,8,20],[44,24,8,22],[44,30,8,22,"handleNotification"],[44,31,8,22],[44,37,8,35],[45,6,9,4,"shouldShowAlert"],[45,21,9,19],[45,23,9,21],[45,27,9,25],[46,6,10,4,"shouldPlaySound"],[46,21,10,19],[46,23,10,21],[46,27,10,25],[47,6,11,4,"shouldSetBadge"],[47,20,11,18],[47,22,11,20],[47,26,11,24],[48,6,12,4,"shouldShowBanner"],[48,22,12,20],[48,24,12,22],[48,28,12,26],[49,6,13,4,"shouldShowList"],[49,20,13,18],[49,22,13,20],[50,4,14,2],[50,5,14,3],[51,2,15,0],[51,3,15,1],[51,4,15,2],[52,2,17,7],[52,17,17,22,"registerForPushNotifications"],[52,45,17,50,"registerForPushNotifications"],[52,46,17,50],[52,48,17,77],[53,4,18,2],[53,8,18,6,"token"],[53,13,18,26],[53,16,18,29],[53,20,18,33],[54,4,20,2],[54,8,20,6,"Platform"],[54,16,20,14],[54,17,20,14,"default"],[54,24,20,14],[54,25,20,15,"OS"],[54,27,20,17],[54,32,20,22],[54,41,20,31],[54,43,20,33],[55,6,21,4],[55,12,21,10,"Notifications"],[55,25,21,23],[55,26,21,24,"setNotificationChannelAsync"],[55,53,21,51],[55,54,21,52],[55,63,21,61],[55,65,21,63],[56,8,22,6,"name"],[56,12,22,10],[56,14,22,12],[56,27,22,25],[57,8,23,6,"importance"],[57,18,23,16],[57,20,23,18,"Notifications"],[57,33,23,31],[57,34,23,32,"AndroidImportance"],[57,51,23,49],[57,52,23,50,"MAX"],[57,55,23,53],[58,8,24,6,"vibrationPattern"],[58,24,24,22],[58,26,24,24],[58,27,24,25],[58,28,24,26],[58,30,24,28],[58,33,24,31],[58,35,24,33],[58,38,24,36],[58,40,24,38],[58,43,24,41],[58,44,24,42],[59,8,25,6,"lightColor"],[59,18,25,16],[59,20,25,18],[60,6,26,4],[60,7,26,5],[60,8,26,6],[61,4,27,2],[62,4,29,2],[62,8,29,6],[62,9,29,7,"Device"],[62,15,29,13],[62,16,29,14,"isDevice"],[62,24,29,22],[62,26,29,24],[63,6,30,4,"console"],[63,13,30,11],[63,14,30,12,"log"],[63,17,30,15],[63,18,30,16],[63,64,30,62],[63,65,30,63],[64,6,31,4],[64,13,31,11],[64,17,31,15],[65,4,32,2],[66,4,34,2],[66,10,34,8],[67,6,34,10,"status"],[67,12,34,16],[67,14,34,18,"existingStatus"],[68,4,34,33],[68,5,34,34],[68,8,34,37],[68,14,34,43,"Notifications"],[68,27,34,56],[68,28,34,57,"getPermissionsAsync"],[68,47,34,76],[68,48,34,77],[68,49,34,78],[69,4,35,2],[69,8,35,6,"finalStatus"],[69,19,35,17],[69,22,35,20,"existingStatus"],[69,36,35,34],[70,4,37,2],[70,8,37,6,"existingStatus"],[70,22,37,20],[70,27,37,25],[70,36,37,34],[70,38,37,36],[71,6,38,4],[71,12,38,10],[72,8,38,12,"status"],[73,6,38,19],[73,7,38,20],[73,10,38,23],[73,16,38,29,"Notifications"],[73,29,38,42],[73,30,38,43,"requestPermissionsAsync"],[73,53,38,66],[73,54,38,67],[73,55,38,68],[74,6,39,4,"finalStatus"],[74,17,39,15],[74,20,39,18,"status"],[74,26,39,24],[75,4,40,2],[76,4,42,2],[76,8,42,6,"finalStatus"],[76,19,42,17],[76,24,42,22],[76,33,42,31],[76,35,42,33],[77,6,43,4,"console"],[77,13,43,11],[77,14,43,12,"log"],[77,17,43,15],[77,18,43,16],[77,60,43,58],[77,61,43,59],[78,6,44,4],[78,13,44,11],[78,17,44,15],[79,4,45,2],[80,4,47,2],[80,8,47,6],[81,6,48,4],[81,12,48,10,"response"],[81,20,48,18],[81,23,48,21],[81,29,48,27,"Notifications"],[81,42,48,40],[81,43,48,41,"getExpoPushTokenAsync"],[81,64,48,62],[81,65,48,63],[82,8,49,6,"projectId"],[82,17,49,15],[82,19,49,17],[82,36,49,34],[82,37,49,36],[83,6,50,4],[83,7,50,5],[83,8,50,6],[84,6,51,4,"token"],[84,11,51,9],[84,14,51,12,"response"],[84,22,51,20],[84,23,51,21,"data"],[84,27,51,25],[85,6,52,4,"console"],[85,13,52,11],[85,14,52,12,"log"],[85,17,52,15],[85,18,52,16],[85,31,52,29],[85,33,52,31,"token"],[85,38,52,36],[85,39,52,37],[87,6,54,4],[88,6,55,4],[88,12,55,10,"api"],[88,16,55,13],[88,17,55,13,"api"],[88,20,55,13],[88,21,55,14,"post"],[88,25,55,18],[88,26,55,19],[88,56,55,49],[88,58,55,51],[89,8,56,6,"push_token"],[89,18,56,16],[89,20,56,18,"token"],[89,25,56,23],[90,8,57,6,"device_type"],[90,19,57,17],[90,21,57,19,"Platform"],[90,29,57,27],[90,30,57,27,"default"],[90,37,57,27],[90,38,57,28,"OS"],[91,6,58,4],[91,7,58,5],[91,8,58,6],[92,4,59,2],[92,5,59,3],[92,6,59,4],[92,13,59,11,"error"],[92,18,59,16],[92,20,59,18],[93,6,60,4,"console"],[93,13,60,11],[93,14,60,12,"error"],[93,19,60,17],[93,20,60,18],[93,47,60,45],[93,49,60,47,"error"],[93,54,60,52],[93,55,60,53],[94,4,61,2],[95,4,63,2],[95,11,63,9,"token"],[95,16,63,14],[96,2,64,0],[97,2,66,7],[97,17,66,22,"unregisterPushNotifications"],[97,44,66,49,"unregisterPushNotifications"],[97,45,66,50,"token"],[97,50,66,63],[97,52,66,65],[98,4,67,2],[98,8,67,6],[99,6,68,4],[99,12,68,10,"api"],[99,16,68,13],[99,17,68,13,"api"],[99,20,68,13],[99,21,68,14,"delete"],[99,27,68,20],[99,28,68,21],[99,73,68,66,"token"],[99,78,68,71],[99,80,68,73],[99,81,68,74],[100,4,69,2],[100,5,69,3],[100,6,69,4],[100,13,69,11,"error"],[100,18,69,16],[100,20,69,18],[101,6,70,4,"console"],[101,13,70,11],[101,14,70,12,"error"],[101,19,70,17],[101,20,70,18],[101,53,70,51],[101,55,70,53,"error"],[101,60,70,58],[101,61,70,59],[102,4,71,2],[103,2,72,0],[104,2,74,7],[104,11,74,16,"addNotificationReceivedListener"],[104,42,74,47,"addNotificationReceivedListener"],[104,43,75,2,"callback"],[104,51,75,62],[104,53,76,2],[105,4,77,2],[105,11,77,9,"Notifications"],[105,24,77,22],[105,25,77,23,"addNotificationReceivedListener"],[105,56,77,54],[105,57,77,55,"callback"],[105,65,77,63],[105,66,77,64],[106,2,78,0],[107,2,80,7],[107,11,80,16,"addNotificationResponseReceivedListener"],[107,50,80,55,"addNotificationResponseReceivedListener"],[107,51,81,2,"callback"],[107,59,81,66],[107,61,82,2],[108,4,83,2],[108,11,83,9,"Notifications"],[108,24,83,22],[108,25,83,23,"addNotificationResponseReceivedListener"],[108,64,83,62],[108,65,83,63,"callback"],[108,73,83,71],[108,74,83,72],[109,2,84,0],[111,2,86,0],[112,2,87,7],[112,17,87,22,"scheduleLocalNotification"],[112,42,87,47,"scheduleLocalNotification"],[112,43,88,2,"title"],[112,48,88,15],[112,50,89,2,"body"],[112,54,89,14],[112,56,90,2,"data"],[112,60,90,12],[112,62,91,2,"trigger"],[112,69,91,50],[112,71,92,2],[113,4,93,2],[113,10,93,8,"Notifications"],[113,23,93,21],[113,24,93,22,"scheduleNotificationAsync"],[113,49,93,47],[113,50,93,48],[114,6,94,4,"content"],[114,13,94,11],[114,15,94,13],[115,8,95,6,"title"],[115,13,95,11],[116,8,96,6,"body"],[116,12,96,10],[117,8,97,6,"data"],[117,12,97,10],[118,8,98,6,"sound"],[118,13,98,11],[118,15,98,13],[119,6,99,4],[119,7,99,5],[120,6,100,4,"trigger"],[120,13,100,11],[120,15,100,13,"trigger"],[120,22,100,20],[120,26,100,24],[120,30,100,28],[120,31,100,30],[121,4,101,2],[121,5,101,3],[121,6,101,4],[122,2,102,0],[124,2,104,0],[125,2,105,7],[125,17,105,22,"getScheduledNotifications"],[125,42,105,47,"getScheduledNotifications"],[125,43,105,47],[125,45,105,50],[126,4,106,2],[126,11,106,9],[126,17,106,15,"Notifications"],[126,30,106,28],[126,31,106,29,"getAllScheduledNotificationsAsync"],[126,64,106,62],[126,65,106,63],[126,66,106,64],[127,2,107,0],[129,2,109,0],[130,2,110,7],[130,17,110,22,"cancelAllNotifications"],[130,39,110,44,"cancelAllNotifications"],[130,40,110,44],[130,42,110,47],[131,4,111,2],[131,10,111,8,"Notifications"],[131,23,111,21],[131,24,111,22,"cancelAllScheduledNotificationsAsync"],[131,60,111,58],[131,61,111,59],[131,62,111,60],[132,2,112,0],[134,2,114,0],[135,2,115,7],[135,17,115,22,"setBadgeCount"],[135,30,115,35,"setBadgeCount"],[135,31,115,36,"count"],[135,36,115,49],[135,38,115,51],[136,4,116,2],[136,10,116,8,"Notifications"],[136,23,116,21],[136,24,116,22,"setBadgeCountAsync"],[136,42,116,40],[136,43,116,41,"count"],[136,48,116,46],[136,49,116,47],[137,2,117,0],[138,0,117,1],[138,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotifications","unregisterPushNotifications","addNotificationReceivedListener","addNotificationResponseReceivedListener","scheduleLocalNotification","getScheduledNotifications","cancelAllNotifications","setBadgeCount"],"mappings":"AAA;sBCO;IDM;OEG;CF+C;OGE;CHM;OIE;CJI;OKE;CLI;OMG;CNe;OOG;CPE;OQG;CRE;OSG;CTE"},"hasCjsExports":false},"type":"js/module"}]}